
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Mongoose · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-sectionx/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-page-toc/page-toc.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-codetabs/codetabs.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-jazer/regexp/regexp_website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-jazer/questionjs/questionjs_website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-jazer/question/question_website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-jazer/fontawesome/css/font-awesome.min.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../../repasos/mongo.html" />
    
    
    <link rel="prev" href="mongodb.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Instrucciones</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../instrucciones/">
            
                <a href="../../../instrucciones/">
            
                    
                    Instrucciones Generales
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../instrucciones/classroom.html">
            
                <a href="../../../instrucciones/classroom.html">
            
                    
                    Instrucciones para GitHub ClassRoom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../instrucciones/instruccionesparaelenvio.html">
            
                <a href="../../../instrucciones/instruccionesparaelenvio.html">
            
                    
                    Instrucciones para los envíos de tareas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../instrucciones/instruccionesparalaevaluacion.html">
            
                <a href="../../../instrucciones/instruccionesparalaevaluacion.html">
            
                    
                    Instrucciones para la evaluación
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../../instrucciones/instruccionesparalaspresentaciones.html">
            
                <a href="../../../instrucciones/instruccionesparalaspresentaciones.html">
            
                    
                    Instrucciones para las Presentaciones
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../../instrucciones/impresion-ull.html">
            
                <a href="../../../instrucciones/impresion-ull.html">
            
                    
                    Instrucciones para el servicio de impresión
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Apuntes</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Apuntes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../programmingforchildren/">
            
                <a href="../../programmingforchildren/">
            
                    
                    Programación para no programadores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" >
            
                <a target="_blank" href="https://casianorodriguezleon.gitbooks.io/presentaciones-de-sytw-2016-2017/content/">
            
                    
                    Presentaciones de SYTW 16/17
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" >
            
                <a target="_blank" href="https://casianorodriguezleon.gitbooks.io/presentaciones-de-sytw-2016-2017/content/">
            
                    
                    Presentaciones de SYTW en GitBook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" >
            
                <a target="_blank" href="https://ull-esit-sytw-1617.github.io/presentaciones-todos/">
            
                    
                    Presentaciones de SYTW en GitHub (gh-pages)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" >
            
                <a target="_blank" href="https://github.com/ULL-ESIT-SYTW-1617/presentaciones-todos">
            
                    
                    Repo con las presentaciones de SYTW 
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Tools / Herramientas</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../tools/">
            
                <a href="../../tools/">
            
                    
                    Atom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <a target="_blank" href="https://www.youtube.com/user/LevelUpTuts/search?query=atom">
            
                    
                    AtomEditor Tutorials en YouTube
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../tools/fzf.html">
            
                <a href="../../tools/fzf.html">
            
                    
                    fzf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../tools/linuxbrew.html">
            
                <a href="../../tools/linuxbrew.html">
            
                    
                    linuxbrew
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">GitHub</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../github/">
            
                <a href="../../github/">
            
                    
                    GitHub
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../../github/poets/">
            
                <a href="../../github/poets/">
            
                    
                    GitHub for Poets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../../github/projects/">
            
                <a href="../../github/projects/">
            
                    
                    GitHub Projects
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../../colaboracion/">
            
                <a href="../../colaboracion/">
            
                    
                    Colaboración
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../../../repasos/github.html">
            
                <a href="../../../repasos/github.html">
            
                    
                    Repaso: Preguntas de github
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">GitHub Education</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../../../recursos/">
            
                <a href="../../../recursos/#github-education">
            
                    
                    GitHub Education
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">GitBook</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../../gitbooknotes/">
            
                <a href="../../gitbooknotes/">
            
                    
                    Sobre GitBook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos de GitBook</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../../../repasos/markdown.html">
            
                <a href="../../../repasos/markdown.html">
            
                    
                    Preguntas de MarkDown
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../../../repasos/gitbook.html">
            
                <a href="../../../repasos/gitbook.html">
            
                    
                    Preguntas de GitBook
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Gulp</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../../gulp/">
            
                <a href="../../gulp/">
            
                    
                    Gulp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1.1" data-path="../../gulp/API.html">
            
                <a href="../../gulp/API.html">
            
                    
                    API Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.2" data-path="../../gulp/recipes/">
            
                <a href="../../gulp/recipes/">
            
                    
                    Recipes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.3" >
            
                <a target="_blank" href="http://gulpjs.com/plugins/">
            
                    
                    Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.4" data-path="../../gulp/gulpghpages.html">
            
                <a href="../../gulp/gulpghpages.html">
            
                    
                    gulp gh pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.5" data-path="../../gulp/gulpshell.html">
            
                <a href="../../gulp/gulpshell.html">
            
                    
                    gulp-shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.1.6" data-path="../../gulp/gulplinting.html">
            
                <a href="../../gulp/gulplinting.html">
            
                    
                    gulp-linting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Repasos: Gulp</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../../../repasos/gulp.html">
            
                <a href="../../../repasos/gulp.html">
            
                    
                    Repasos: Preguntas de gulp
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">NodeJS</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../../nodejs/">
            
                <a href="../../nodejs/">
            
                    
                    Debugging NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../../npm/nodejspackages.html">
            
                <a href="../../npm/nodejspackages.html">
            
                    
                    Creación de Paquetes y Módulos en NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="../../fs.html">
            
                <a href="../../fs.html">
            
                    
                    Sistema de Archivos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="../../argumentos/">
            
                <a href="../../argumentos/">
            
                    
                    Procesamiento de la línea de comandos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="../../processes/">
            
                <a href="../../processes/">
            
                    
                    Procesos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="../../../repasos/npm.html">
            
                <a href="../../../repasos/npm.html">
            
                    
                    Repaso: Preguntas de npm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.7" data-path="../../../repasos/jsdoc.html">
            
                <a href="../../../repasos/jsdoc.html">
            
                    
                    Repaso: Preguntas de JSDoc
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Prácticas Iniciales: NodeJS, GitHub, GitBook</li>
        
        
    
        <li class="chapter " data-level="11.1" data-path="../../../practicas/practicatareasiniciales.html">
            
                <a href="../../../practicas/practicatareasiniciales.html">
            
                    
                    Práctica: Tareas Iniciales
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../../../practicas/practicatareasiniciales2.html">
            
                <a href="../../../practicas/practicatareasiniciales2.html">
            
                    
                    Práctica: Primeros Pasos en NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../../../practicas/practicagitbook.html">
            
                <a href="../../../practicas/practicagitbook.html">
            
                    
                    Práctica: Tareas Iniciales Avanzadas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../../../practicas/practicanm.html">
            
                <a href="../../../practicas/practicanm.html">
            
                    
                    Práctica: Creación de un Paquete NPM
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Document Object Model</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="../../dom/">
            
                <a href="../../dom/">
            
                    
                    DOM
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Programación: Buenas Prácticas</li>
        
        
    
        <li class="chapter " data-level="13.1" data-path="../../functional/">
            
                <a href="../../functional/">
            
                    
                    Programación Funcional en JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="../../oop/">
            
                <a href="../../oop/">
            
                    
                    Programación Orientada a Objetos/Object Oriented Programming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="../../async/">
            
                <a href="../../async/">
            
                    
                    Asincronía y Sincronía
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="../../games/">
            
                <a href="../../games/">
            
                    
                    Juegos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.5" data-path="../../patterns/codesmell.html">
            
                <a href="../../patterns/codesmell.html">
            
                    
                    Code Smells
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.6" data-path="../../patterns/designprinciples.html">
            
                <a href="../../patterns/designprinciples.html">
            
                    
                    Principios de Diseño
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.7" data-path="../../patterns/">
            
                <a href="../../patterns/">
            
                    
                    Patrones de Diseño
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.7.1" data-path="../../patterns/iife.html">
            
                <a href="../../patterns/iife.html">
            
                    
                    Immediately Invoked Function Expression
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.7.2" data-path="../../patterns/strategypattern.html">
            
                <a href="../../patterns/strategypattern.html">
            
                    
                    Strategy Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.7.3" data-path="../../patterns/dependencyinjectionpattern.html">
            
                <a href="../../patterns/dependencyinjectionpattern.html">
            
                    
                    Dependency Injection Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.7.4" data-path="../../patterns/inversionofcontrolpattern.html">
            
                <a href="../../patterns/inversionofcontrolpattern.html">
            
                    
                    Inversion of Control Pattern
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.8" data-path="../../../practicas/practicaoop.html">
            
                <a href="../../../practicas/practicaoop.html">
            
                    
                    Práctica: OOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.9" data-path="../../../practicas/practicanoswitchsmell.html">
            
                <a href="../../../practicas/practicanoswitchsmell.html">
            
                    
                    Práctica: Eliminando Switch Smell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.10" data-path="../../../practicas/practicaevaluastrategypattern.html">
            
                <a href="../../../practicas/practicaevaluastrategypattern.html">
            
                    
                    Práctica: Evaluar Strategy Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.11" data-path="../../../practicas/practicamodulestrategypattern.html">
            
                <a href="../../../practicas/practicamodulestrategypattern.html">
            
                    
                    Práctica: Creación de Paquetes NPM y Strategy Pattern
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos Buenas Prácticas</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="../../../repasos/oop.html">
            
                <a href="../../../repasos/oop.html">
            
                    
                    Repasos: Preguntas de OOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="../../../repasos/codesmelling.html">
            
                <a href="../../../repasos/codesmelling.html">
            
                    
                    Repasos: Code Smelling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.3" data-path="../../../repasos/strategy-pattern.html">
            
                <a href="../../../repasos/strategy-pattern.html">
            
                    
                    Repasos: Code Smelling
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Pruebas</li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="../../pruebas/">
            
                <a href="../../pruebas/">
            
                    
                    Pruebas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2" data-path="../../pruebas/mocha.html">
            
                <a href="../../pruebas/mocha.html">
            
                    
                    Mocha
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.3" data-path="../../pruebas/mocha.html">
            
                <a href="../../pruebas/mocha.html#should">
            
                    
                    Should
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.4" data-path="../../pruebas/travis.html">
            
                <a href="../../pruebas/travis.html">
            
                    
                    Travis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.5" data-path="../../pruebas/chai.html">
            
                <a href="../../pruebas/chai.html">
            
                    
                    Chai
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.6" data-path="../../pruebas/sinon.html">
            
                <a href="../../pruebas/sinon.html">
            
                    
                    Sinon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.7" data-path="../../pruebas/karma.html">
            
                <a href="../../pruebas/karma.html">
            
                    
                    Karma
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.8" data-path="../../pruebas/covering.html">
            
                <a href="../../pruebas/covering.html">
            
                    
                    Covering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.9" data-path="../../pruebas/blanket.html">
            
                <a href="../../pruebas/blanket.html">
            
                    
                    Blanket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.10" data-path="../../pruebas/istanbul.html">
            
                <a href="../../pruebas/istanbul.html">
            
                    
                    Istanbul
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.11" data-path="../../pruebas/browsersync.html">
            
                <a href="../../pruebas/browsersync.html">
            
                    
                    BrowserSync
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Prácticas de Pruebas</li>
        
        
    
        <li class="chapter " data-level="16.1" data-path="../../../practicas/practicaevaluakarma.html">
            
                <a href="../../../practicas/practicaevaluakarma.html">
            
                    
                    Práctica: Evaluar Karma
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos Pruebas</li>
        
        
    
        <li class="chapter " data-level="17.1" data-path="../../../repasos/mochachai.html">
            
                <a href="../../../repasos/mochachai.html">
            
                    
                    Repasos: Preguntas de Mocha y Chai
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Programación Web</li>
        
        
    
        <li class="chapter " data-level="18.1" data-path="../../express/">
            
                <a href="../../express/">
            
                    
                    Express
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.1.1" data-path="../../express/expressroutes.html">
            
                <a href="../../express/expressroutes.html">
            
                    
                    Rutas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="18.1.2" data-path="../../express/expressgenerator.html">
            
                <a href="../../express/expressgenerator.html">
            
                    
                    Express Generator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="18.2" data-path="../../rest/">
            
                <a href="../../rest/">
            
                    
                    Arquitectura REST, REST APIs y GraphQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="18.2.1" data-path="../../rest/githubapitutorial.html">
            
                <a href="../../rest/githubapitutorial.html">
            
                    
                    Getting Started with the GitHub API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="18.3" data-path="../../cookies/">
            
                <a href="../../cookies/">
            
                    
                    Cookies y Sessions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="18.4" data-path="../../authentication/">
            
                <a href="../../authentication/">
            
                    
                    Authentication con OAuth
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="18.5" data-path="../../ssl/">
            
                <a href="../../ssl/">
            
                    
                    SSL y HTTPS
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">React</li>
        
        
    
        <li class="chapter " data-level="19.1" data-path="../../react/">
            
                <a href="../../react/">
            
                    
                    React
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Meteor</li>
        
        
    
        <li class="chapter " data-level="20.1" data-path="../../meteor/">
            
                <a href="../../meteor/">
            
                    
                    Meteor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="20.1.1" data-path="../../meteor/introduccion.html">
            
                <a href="../../meteor/introduccion.html">
            
                    
                    Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.2" data-path="../../meteor/instalando.html">
            
                <a href="../../meteor/instalando.html">
            
                    
                    Instalando Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.3" data-path="../../meteor/consolas.html">
            
                <a href="../../meteor/consolas.html">
            
                    
                    Consolas de Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.4" data-path="../../meteor/plantillas.html">
            
                <a href="../../meteor/plantillas.html">
            
                    
                    Plantillas en Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.5" data-path="../../meteor/collections.html">
            
                <a href="../../meteor/collections.html">
            
                    
                    Colecciones en Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.6" data-path="../../meteor/primera_app.html">
            
                <a href="../../meteor/primera_app.html">
            
                    
                    Construyendo una app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.7" data-path="../../meteor/rutas.html">
            
                <a href="../../meteor/rutas.html">
            
                    
                    Rutas en Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.8" data-path="../../meteor/guia_comandos.html">
            
                <a href="../../meteor/guia_comandos.html">
            
                    
                    Guía de comandos Meteor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="20.1.9" data-path="../../meteor/enlaces.html">
            
                <a href="../../meteor/enlaces.html">
            
                    
                    Enlaces y recursos de interés
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Chrome Apps</li>
        
        
    
        <li class="chapter " data-level="21.1" data-path="../../chromeapps/">
            
                <a href="../../chromeapps/">
            
                    
                    Chrome Apps
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Prácticas de Programación Web</li>
        
        
    
        <li class="chapter " data-level="22.1" data-path="../../../practicas/practicaconversordetemperaturas.html">
            
                <a href="../../../practicas/practicaconversordetemperaturas.html">
            
                    
                    Práctica: JavaScript en el Cliente
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.2" data-path="../../../practicas/practicalearningrouting.html">
            
                <a href="../../../practicas/practicalearningrouting.html">
            
                    
                    Práctica: Estudiar las Rutas en ExpressJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.3" data-path="../../../practicas/practicalearningcookies.html">
            
                <a href="../../../practicas/practicalearningcookies.html">
            
                    
                    Práctica: Estudiar las Cookies y las Sessions en ExpressJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.4" data-path="../../../practicas/practicasessions.html">
            
                <a href="../../../practicas/practicasessions.html">
            
                    
                    Práctica: Autenticación usando sessions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.5" data-path="../../../practicas/practicaiaas.html">
            
                <a href="../../../practicas/practicaiaas.html">
            
                    
                    Práctica: Despliegues en iaas y heroku
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.6" data-path="../../../practicas/practicaplugin.html">
            
                <a href="../../../practicas/practicaplugin.html">
            
                    
                    Práctica: Añadiendo plugins para los despliegues. iaas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.7" data-path="../../../practicas/practicaplugin2.html">
            
                <a href="../../../practicas/practicaplugin2.html">
            
                    
                    Práctica: gitbook-start. Plugin para heroku
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.8" data-path="../../../practicas/practicagithubapi.html">
            
                <a href="../../../practicas/practicagithubapi.html">
            
                    
                    Práctica: GitHub API, Heroku API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.9" data-path="../../../practicas/practicapassport.html">
            
                <a href="../../../practicas/practicapassport.html">
            
                    
                    Práctica: Autenticación OAuth con Passport
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.10" data-path="../../../practicas/practicapassportlocal.html">
            
                <a href="../../../practicas/practicapassportlocal.html">
            
                    
                    Práctica: Passport y LocalStrategy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.11" data-path="../../../practicas/practicapassportlocalsequelize.html">
            
                <a href="../../../practicas/practicapassportlocalsequelize.html">
            
                    
                    Práctica: LocalStrategy y Base de Datos: LocalStrategy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="22.12" data-path="../../../practicas/practicassl.html">
            
                <a href="../../../practicas/practicassl.html">
            
                    
                    Práctica: Añadir HTTPS al servidor del libro
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos de Programación Web</li>
        
        
    
        <li class="chapter " data-level="23.1" data-path="../../../repasos/html.html">
            
                <a href="../../../repasos/html.html">
            
                    
                    Preguntas de HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.2" data-path="../../../repasos/css.html">
            
                <a href="../../../repasos/css.html">
            
                    
                    Preguntas de CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.3" data-path="../../../repasos/ejs.html">
            
                <a href="../../../repasos/ejs.html">
            
                    
                    Preguntas de ejs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.4" data-path="../../../repasos/expressroutes.html">
            
                <a href="../../../repasos/expressroutes.html">
            
                    
                    Preguntas de Rutas en ExpressJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.5" data-path="../../../repasos/jquery.html">
            
                <a href="../../../repasos/jquery.html">
            
                    
                    Preguntas de jquery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.6" data-path="../../../repasos/underscore.html">
            
                <a href="../../../repasos/underscore.html">
            
                    
                    Preguntas de underscore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.7" data-path="../../../repasos/localstorage.html">
            
                <a href="../../../repasos/localstorage.html">
            
                    
                    Preguntas de localstorage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.8" data-path="../../../repasos/pug.html">
            
                <a href="../../../repasos/pug.html">
            
                    
                    Preguntas de pug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.9" data-path="../../../repasos/sass.html">
            
                <a href="../../../repasos/sass.html">
            
                    
                    Preguntas de sass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.10" data-path="../../../repasos/https.html">
            
                <a href="../../../repasos/https.html">
            
                    
                    Preguntas de HTTPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.11" data-path="../../../repasos/ajax.html">
            
                <a href="../../../repasos/ajax.html">
            
                    
                    Preguntas de AJAX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.12" data-path="../../../repasos/passport.html">
            
                <a href="../../../repasos/passport.html">
            
                    
                    Preguntas de Passport
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.13" data-path="../../../repasos/cookies.html">
            
                <a href="../../../repasos/cookies.html">
            
                    
                    Preguntas de Cookies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.14" data-path="../../../repasos/rest.html">
            
                <a href="../../../repasos/rest.html">
            
                    
                    Preguntas de REST
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="23.15" data-path="../../../repasos/githubapi.html">
            
                <a href="../../../repasos/githubapi.html">
            
                    
                    Preguntas de GtiHub API
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Bases de Datos</li>
        
        
    
        <li class="chapter " data-level="24.1" data-path="../">
            
                <a href="../">
            
                    
                    Bases de Datos/DataBases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="24.1.1" data-path="../sqlite/">
            
                <a href="../sqlite/">
            
                    
                    Sqlite
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="24.1.2" data-path="../sequelize/">
            
                <a href="../sequelize/">
            
                    
                    Sequelize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="24.1.3" data-path="./">
            
                <a href="./">
            
                    
                    Mongo
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="24.1.3.1" data-path="mongodb.html">
            
                <a href="mongodb.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="24.1.3.2" data-path="mongoose.html">
            
                <a href="mongoose.html">
            
                    
                    Mongoose
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Repasos de Bases de Datos</li>
        
        
    
        <li class="chapter " data-level="25.1" data-path="../../../repasos/mongo.html">
            
                <a href="../../../repasos/mongo.html">
            
                    
                    Preguntas de Mongo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos Bases de Datos</li>
        
        
    
        <li class="chapter " data-level="26.1" data-path="../../../repasos/mongo.html">
            
                <a href="../../../repasos/mongo.html">
            
                    
                    Repasos: Preguntas de mongo
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">ECMA 6</li>
        
        
    
        <li class="chapter " data-level="27.1" >
            
                <a target="_blank" href="http://exploringjs.com/es6/">
            
                    
                    Libro: Exploring Ecma 6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2" data-path="../../babel/">
            
                <a href="../../babel/">
            
                    
                    Babel ES6, ES7 y ES8
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="27.2.1" data-path="../../babel/proceso-de-introduccion-de-nuevas-caracteristicas.html">
            
                <a href="../../babel/proceso-de-introduccion-de-nuevas-caracteristicas.html">
            
                    
                    Proceso de Introducción de Nuevas Características
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.2" data-path="../../babel/babel.html">
            
                <a href="../../babel/babel.html">
            
                    
                    Babel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.3" data-path="../../babel/funciones-flecha.html">
            
                <a href="../../babel/funciones-flecha.html">
            
                    
                    Funciones Flecha
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.4" data-path="../../babel/deconstrucciones.html">
            
                <a href="../../babel/deconstrucciones.html">
            
                    
                    Deconstrucciones
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.5" data-path="../../babel/operador-de-dispersion.html">
            
                <a href="../../babel/operador-de-dispersion.html">
            
                    
                    Operador de Dispersión
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.6" data-path="../../babel/iteradores.html">
            
                <a href="../../babel/iteradores.html">
            
                    
                    Iteradores
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.7" data-path="../../babel/nueva-sintaxis-en-bucles-for.html">
            
                <a href="../../babel/nueva-sintaxis-en-bucles-for.html">
            
                    
                    Nueva sintaxis en bucles for
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.8" data-path="../../babel/operador-bind.html">
            
                <a href="../../babel/operador-bind.html">
            
                    
                    Operador bind
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.9" data-path="../../babel/import.html">
            
                <a href="../../babel/import.html">
            
                    
                    Import
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.10" data-path="../../babel/export.html">
            
                <a href="../../babel/export.html">
            
                    
                    Export
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.11" data-path="../../babel/async-y-await.html">
            
                <a href="../../babel/async-y-await.html">
            
                    
                    Async y Await
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.12" data-path="../../babel/integracion-de-babel-con-gulp.html">
            
                <a href="../../babel/integracion-de-babel-con-gulp.html">
            
                    
                    Integración de Babel con Gulp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="27.2.13" data-path="../../babel/integracion-con-express.html">
            
                <a href="../../babel/integracion-con-express.html">
            
                    
                    Integración con Express
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Repasos: ECMA6</li>
        
        
    
        <li class="chapter " data-level="28.1" data-path="../../../repasos/ecma6.html">
            
                <a href="../../../repasos/ecma6.html">
            
                    
                    Repaso: Preguntas de ecma6
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Procesamiento de Lenguajes</li>
        
        
    
        <li class="chapter " data-level="29.1" >
            
                <a target="_blank" href="http://cs448h.stanford.edu/little-languages.pdf">
            
                    
                    Little Languages. Programing Pearls. Jon Bentley
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.2" >
            
                <a target="_blank" href="http://cs448h.stanford.edu/DSEL-Little.pdf">
            
                    
                    P Hudak. Domain Specific Languages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.3" data-path="../../regexp/">
            
                <a href="../../regexp/">
            
                    
                    Expresiones Regulares
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="29.3.1" data-path="../../regexp/regexpejercicios.html">
            
                <a href="../../regexp/regexpejercicios.html">
            
                    
                    Ejercicios de Expresiones Regulares
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="29.3.1.1" data-path="../../../practicas/practicaanalisislexicotdop2018.html">
            
                <a href="../../../practicas/practicaanalisislexicotdop2018.html">
            
                    
                    Práctica: Analizador Léxico para Un Subconjunto de JavaScript 2018
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.3.1.2" data-path="../../../practicas/practicaanalisislexicotdop.html">
            
                <a href="../../../practicas/practicaanalisislexicotdop.html">
            
                    
                    Práctica: Analizador Léxico para Un Subconjunto de JavaScript
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="29.3.2" data-path="../../../practicas/practicaregexpmarkdownparser.html">
            
                <a href="../../../practicas/practicaregexpmarkdownparser.html">
            
                    
                    Práctica: Markdown parser
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="29.4" data-path="../../parsing/">
            
                <a href="../../parsing/">
            
                    
                    Parsing: Técnicas de Análisis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="29.4.1" data-path="../../parsing/tdop/">
            
                <a href="../../parsing/tdop/">
            
                    
                    Operator Precedence Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="29.4.1.1" data-path="../../parsing/tdop/tdop.html">
            
                <a href="../../parsing/tdop/tdop.html">
            
                    
                    Top Down Operator Precedence Analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="29.4.2" data-path="../../parsing/recursivodescendente/">
            
                <a href="../../parsing/recursivodescendente/">
            
                    
                    Análisis Recursivo Descendente
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="29.5" data-path="../../parsing/eloquentjs/">
            
                <a href="../../parsing/eloquentjs/">
            
                    
                    Eloquent JS: Chapter 11. Project: A Programming Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.6" data-path="../../parsing/pltutlisperator/">
            
                <a href="../../parsing/pltutlisperator/">
            
                    
                    How to implement a programming language in JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.7" data-path="../../parsing/grammars/">
            
                <a href="../../parsing/grammars/">
            
                    
                    Grammars / Gramáticas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.8" data-path="../../pegjs/PEGS.html">
            
                <a href="../../pegjs/PEGS.html">
            
                    
                    PEGs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="29.8.1" data-path="../../pegjs/esprima.html">
            
                <a href="../../pegjs/esprima.html">
            
                    
                    Esprima
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.8.2" data-path="../../pegjs/pegjs.html">
            
                <a href="../../pegjs/pegjs.html">
            
                    
                    borrador
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.8.3" data-path="../../../repasos/pegjs.html">
            
                <a href="../../../repasos/pegjs.html">
            
                    
                    Repasos: PEG.js
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="29.9" data-path="../../parsing/gll/">
            
                <a href="../../parsing/gll/">
            
                    
                    GLL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.10" data-path="../../../practicas/practicaanalisislexicotdop2018.html">
            
                <a href="../../../practicas/practicaanalisislexicotdop2018.html">
            
                    
                    Práctica: Analizador Léxico para Un Subconjunto de JavaScript 2018
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.11" data-path="../../../practicas/practicaanalisislexicotdop.html">
            
                <a href="../../../practicas/practicaanalisislexicotdop.html">
            
                    
                    Práctica: Analizador Léxico para Un Subconjunto de JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.12" data-path="../../../practicas/practicaregexpmarkdownparser.html">
            
                <a href="../../../practicas/practicaregexpmarkdownparser.html">
            
                    
                    Práctica: Markdown parser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.13" data-path="../../../practicas/practicarecdescparser.html">
            
                <a href="../../../practicas/practicarecdescparser.html">
            
                    
                    Práctica: Analizador Descendente Predictivo Recursivo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.14" data-path="../../../practicas/practicapegparser.html">
            
                <a href="../../../practicas/practicapegparser.html">
            
                    
                    Práctica: Analizador Usando PEG.js
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.15" data-path="../../../practicas/practica-egg.html">
            
                <a href="../../../practicas/practica-egg.html">
            
                    
                    Práctica: El lenguaje egg
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.16" data-path="../../../practicas/practica-egg-2.html">
            
                <a href="../../../practicas/practica-egg-2.html">
            
                    
                    Práctica: El lenguaje egg: continuación
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.17" data-path="../../../practicas/practica-egg-3.html">
            
                <a href="../../../practicas/practica-egg-3.html">
            
                    
                    Práctica: El lenguaje egg: (3)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.18" data-path="../../../practicas/practica-egg-4.html">
            
                <a href="../../../practicas/practica-egg-4.html">
            
                    
                    Práctica: El lenguaje egg: (4)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.19" data-path="../../../practicas/practica-calc-egg.html">
            
                <a href="../../../practicas/practica-calc-egg.html">
            
                    
                    Práctica: Un lenguaje mas convencional
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="29.20" data-path="../../../practicas/practica-egg-peg.html">
            
                <a href="../../../practicas/practica-egg-peg.html">
            
                    
                    Práctica: Egg en PEG.js
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos PL</li>
        
        
    
        <li class="chapter " data-level="30.1" data-path="../../../repasos/regexp.html">
            
                <a href="../../../repasos/regexp.html">
            
                    
                    Repasos: Preguntas de Expresiones Regulares
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="30.2" data-path="../../../repasos/lexicalanalyzer.html">
            
                <a href="../../../repasos/lexicalanalyzer.html">
            
                    
                    Repasos: Preguntas de Analizador Léxico
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="30.3" data-path="../../../repasos/pegjs.html">
            
                <a href="../../../repasos/pegjs.html">
            
                    
                    Repasos: PEG.js
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Repasos</li>
        
        
    
        <li class="chapter " data-level="31.1" data-path="../../../repasos/">
            
                <a href="../../../repasos/">
            
                    
                    Repasos
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Recursos</li>
        
        
    
        <li class="chapter " data-level="32.1" data-path="../../../recursos/">
            
                <a href="../../../recursos/">
            
                    
                    Recursos
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Servicios en la Nube</li>
        
        
    
        <li class="chapter " data-level="33.1" data-path="../../../recursos/iaas.html">
            
                <a href="../../../recursos/iaas.html">
            
                    
                    iaas.ull.es
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="33.1.1" data-path="../../../repasos/ssh.html">
            
                <a href="../../../repasos/ssh.html">
            
                    
                    Repaso: Preguntas de SSH
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="33.1.2" data-path="../../../repasos/iaas.html">
            
                <a href="../../../repasos/iaas.html">
            
                    
                    Repasos: Preguntas sobre Plataformas de Despliegue
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="33.2" data-path="../../../recursos/heroku.html">
            
                <a href="../../../recursos/heroku.html">
            
                    
                    Heroku
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="33.2.1" data-path="../../../repasos/heroku.html">
            
                <a href="../../../repasos/heroku.html">
            
                    
                    Repaso: Preguntas de heroku
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="33.3" data-path="../../../recursos/yellow.html">
            
                <a href="../../../recursos/yellow.html">
            
                    
                    Yellow Circle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="33.4" data-path="../../../recursos/azure.html">
            
                <a href="../../../recursos/azure.html">
            
                    
                    Azure in education
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="33.5" data-path="../../../recursos/c9.html">
            
                <a href="../../../recursos/c9.html">
            
                    
                    c9
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Prácticas</li>
        
        
    
        <li class="chapter " data-level="34.1" data-path="../../../practicas/">
            
                <a href="../../../practicas/">
            
                    
                    Prácticas
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Presentaciones</li>
        
        
    
        <li class="chapter " data-level="35.1" data-path="../../../presentaciones/temasSYTW.html">
            
                <a href="../../../presentaciones/temasSYTW.html">
            
                    
                    Temas Sugeridos para SYTW
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="35.2" >
            
                <a target="_blank" href="https://casianorodriguezleon.gitbooks.io/presentaciones-de-sytw-2016-2017/content/">
            
                    
                    Presentaciones de SYTW 16/17
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Proyectos</li>
        
        
    
        <li class="chapter " data-level="36.1" data-path="../../../proyectos/">
            
                <a href="../../../proyectos/">
            
                    
                    Proyectos
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="36.1.1" data-path="../../../proyectos/sytw/">
            
                <a href="../../../proyectos/sytw/">
            
                    
                    Proyecto de SYTW
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="36.1.2" data-path="../../../proyectos/pl/">
            
                <a href="../../../proyectos/pl/">
            
                    
                    Proyecto de PL 16/17
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="36.1.3" data-path="../../../proyectos/pl/tfa-pl-1718.html">
            
                <a href="../../../proyectos/pl/tfa-pl-1718.html">
            
                    
                    Proyecto de PL 17/18
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="36.1.4" data-path="../../../proyectos/dsi/">
            
                <a href="../../../proyectos/dsi/">
            
                    
                    Proyecto de DSI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">DEFINICIONES DE TÉRMINOS</li>
        
        
    
        <li class="chapter " data-level="37.1" data-path="../../../GLOSSARY.html">
            
                <a href="../../../GLOSSARY.html">
            
                    
                    GLOSARIO
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >Mongoose</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <!-- toc -->
<h3 id="mongoose">Mongoose</h3>
<p>Mongoose is a Node.js module that:</p>
<ul>
<li>It works as a client for MongoDB </li>
<li>Is a data modeling tool, which allows us to represent documents as objects in our programs</li>
</ul>
<h4 id="data-model">Data Model</h4>
<p>A data model is simply an <strong>object representation</strong> of a collection of documents in a data store. 
In addition to specifying the fields that are in every document of a collection, it adds MongoDB database operations like <code>save</code> and <code>find</code> to the associated objects.</p>
<ul>
<li>Models are fancy constructors compiled from our Schema definitions. </li>
<li>Instances of these models represent documents which can be saved and retrieved from our database. </li>
<li>All document creation and retrieval from the database is handled by these models.</li>
</ul>
<h4 id="schema">Schema</h4>
<p>In Mongoose, a data model consists of a schema, which describes the structure of all of the objects that are of that type. 
Each schema maps to a MongoDB collection and defines the shape of the documents within that collection.</p>
<p>Suppose we want to create a data model for a collection of playing cards. 
We&#x2019;d start by specifying the schema for a card
explicitly declaring that every card has a rank and a suit:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> CardSchema = mongoose.Schema({ 
        <span class="hljs-string">&quot;rank&quot;</span> : <span class="hljs-built_in">String</span>,
        <span class="hljs-string">&quot;suit&quot;</span> : <span class="hljs-built_in">String</span>
    });
</code></pre>
<p>Schemas can get more complicated. For example, we might build a schema for blog posts that contain dates and comments. In this example, the <code>comments</code> attribute represents an array of strings instead of a single one:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> BlogPostSchema = mongoose.Schema({ 
        <span class="hljs-attr">title</span>: <span class="hljs-built_in">String</span>,
        <span class="hljs-attr">body</span> : <span class="hljs-built_in">String</span>,
        <span class="hljs-attr">date</span> : <span class="hljs-built_in">Date</span>,
        <span class="hljs-attr">comments</span> : [ <span class="hljs-built_in">String</span> ]
});
</code></pre>
<p>or even more complicated:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);
<span class="hljs-keyword">var</span> Schema = mongoose.Schema;

<span class="hljs-keyword">var</span> blogSchema = <span class="hljs-keyword">new</span> Schema({
  <span class="hljs-attr">title</span>:  <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">author</span>: <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">body</span>:   <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">comments</span>: [{ <span class="hljs-attr">body</span>: <span class="hljs-built_in">String</span>, <span class="hljs-attr">date</span>: <span class="hljs-built_in">Date</span> }],
  <span class="hljs-attr">date</span>: { <span class="hljs-attr">type</span>: <span class="hljs-built_in">Date</span>, <span class="hljs-attr">default</span>: <span class="hljs-built_in">Date</span>.now },
  <span class="hljs-attr">hidden</span>: <span class="hljs-built_in">Boolean</span>,
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">votes</span>: <span class="hljs-built_in">Number</span>,
    <span class="hljs-attr">favs</span>:  <span class="hljs-built_in">Number</span>
  }
});
</code></pre>
<p>The permitted SchemaTypes are</p>
<ul>
<li><code>String</code></li>
<li><code>Number</code></li>
<li><code>Date</code></li>
<li><code>Buffer</code></li>
<li><code>Boolean</code></li>
<li><code>Mixed</code></li>
<li><code>ObjectId</code></li>
<li><code>Array</code></li>
</ul>
<p>Mongoose assigns each of your schemas an <code>_id</code> field by default 
if one is not passed into the Schema constructor. 
The type assigned is an <a href="http://mongoosejs.com/docs/api.html#schema_Schema.Types" target="_blank">ObjectId</a> 
to coincide with MongoDB&apos;s default behavior. </p>
<h4 id="building-a-model-from-a-schema">Building a Model from a Schema</h4>
<p>Once we create the schema, building a model is very easy. By convention, we use a capital letter for data model objects:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Card = mongoose.model(<span class="hljs-string">&quot;Card&quot;</span>, CardSchema);
</code></pre>
<ul>
<li>The first argument is the singular name of the collection your model is for. </li>
<li><strong> Mongoose automatically looks for the plural version of your model name</strong>. <ul>
<li>Thus, for the example above, the model <code>Card</code> is for the <code>cards</code> collection in the database. </li>
</ul>
</li>
<li>The <code>.model()</code> function makes a copy of schema. </li>
<li>Make sure that you&apos;ve added everything you want to schema before calling <code>.model()</code>!</li>
</ul>
<p>Every model has an associated connection. When you use <code>mongoose.model()</code>, your model will use the default mongoose connection.</p>
<pre><code class="lang-javascript">mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/chuchu&apos;</span>);
</code></pre>
<pre><code class="lang-javascript">mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/test&apos;</span>, (err)=&gt; {
  <span class="hljs-keyword">if</span>(err) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Error: Check if mongod is running!!&quot;</span>);
    <span class="hljs-built_in">console</span>.log(err);
    <span class="hljs-keyword">throw</span> err;
  }
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Connected to MongoDB&quot;</span>);
});
</code></pre>
<h4 id="constructing-documents">Constructing documents</h4>
<p>Once we have a model, we can create an object of the model type very easily using JavaScript&#x2019;s <code>new</code> operator. </p>
<p>For example, this line of code creates the ace of spades and stores it in a variable called <code>c1</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> c1 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;ace&quot;</span>, <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;spades&quot;</span>});
</code></pre>
<p><code>mongoose</code> adds a property whose name is <code>__v</code> as this <code>mongo</code> session shows:</p>
<pre><code class="lang-javascript">&gt; show dbs
chuchu       <span class="hljs-number">0.078</span>GB
&gt; use chuchu
switched to db chuchu
&gt; show collections
cards
system.indexes
&gt; db.cards.find()
{ <span class="hljs-string">&quot;_id&quot;</span> : ObjectId(<span class="hljs-string">&quot;570e874722bc0fbc916dc90a&quot;</span>), <span class="hljs-string">&quot;rank&quot;</span> : <span class="hljs-string">&quot;ace&quot;</span>, <span class="hljs-string">&quot;suit&quot;</span> : <span class="hljs-string">&quot;spades&quot;</span>, <span class="hljs-string">&quot;__v&quot;</span> : <span class="hljs-number">0</span> }
</code></pre>
<p>The <code>versionKey</code> is a property set on each document when first created by Mongoose. This keys value contains the internal revision of the document. The <code>versionKey</code> option is a string that represents the path to use for versioning. The default is <code>__v</code>. </p>
<h4 id="saving-documents">Saving Documents</h4>
<p>Saving documents to the database is easy:</p>
<pre><code class="lang-javascript">c1.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
  <span class="hljs-comment">// saved!</span>
})
</code></pre>
<p>or</p>
<pre><code class="lang-javascript">Card.create({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;ace&quot;</span>, <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;spades&quot;</span>}), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, c1</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
  <span class="hljs-comment">// saved!</span>
})
</code></pre>
<p>Note that no cards will be created/removed until the connection your model uses is open. </p>
<h4 id="los-m&#xE9;todos-save-retornan-promesas">Los m&#xE9;todos <code>save</code> retornan Promesas</h4>
<p>Ambos <code>save</code> y <code>create</code> retornan objetos <a href="http://mongoosejs.com/docs/promises.html" target="_blank">Promise</a>.
V&#xE9;ase el siguiente ejemplo en el que se guardan varios objetos y luego se cierra la conexi&#xF3;n con la base de datos. Debemos garantizar que la conexi&#xF3;n es cerrada despu&#xE9;s que se guarden todos los objetos.
Si usamos manejadores de eventos nos meteremos en un buen l&#xED;o. La soluci&#xF3;n es usar las promesas:</p>
<pre><code class="lang-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  &quot;use strict&quot;</span>;
  <span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>);
  <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);

  mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/chuchu&apos;</span>);
  <span class="hljs-keyword">const</span> CardSchema = mongoose.Schema({ 
    <span class="hljs-string">&quot;rank&quot;</span> : <span class="hljs-built_in">String</span>,
    <span class="hljs-string">&quot;suit&quot;</span> : <span class="hljs-built_in">String</span>,
    <span class="hljs-string">&quot;chuchu&quot;</span>: [ {<span class="hljs-attr">a</span>: <span class="hljs-built_in">String</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">String</span>}]
  });

  <span class="hljs-keyword">const</span> Card = mongoose.model(<span class="hljs-string">&quot;Card&quot;</span>, CardSchema);

  <span class="hljs-keyword">let</span> c1 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;ace&quot;</span>, <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;spades &#x2660;&quot;</span>,   <span class="hljs-string">&quot;chuchu&quot;</span>: [{<span class="hljs-attr">a</span>: <span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&quot;world!&quot;</span>}]});
  <span class="hljs-keyword">let</span> c2 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;2&quot;</span>,   <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;hearts &#x2665;&quot;</span>,   <span class="hljs-string">&quot;chuchu&quot;</span>: [{<span class="hljs-attr">a</span>: <span class="hljs-string">&quot;hola&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&quot;mundo&quot;</span>}]});
  <span class="hljs-keyword">let</span> c3 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;3&quot;</span>,   <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;clubs &#x2663;&quot;</span>,    <span class="hljs-string">&quot;chuchu&quot;</span>: [{<span class="hljs-attr">a</span>: <span class="hljs-string">&quot;hola&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&quot;mundo&quot;</span>}]});
  <span class="hljs-keyword">let</span> c4 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;4&quot;</span>,   <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;diamonds &#x2666;&quot;</span>, <span class="hljs-string">&quot;chuchu&quot;</span>: [{<span class="hljs-attr">a</span>: <span class="hljs-string">&quot;hola&quot;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&quot;mundo&quot;</span>}]});


  <span class="hljs-keyword">let</span> p1 = c1.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
    <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Hubieron errores:\n<span class="hljs-subst">${err}</span>`</span>); <span class="hljs-keyword">return</span> err; }
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Saved: <span class="hljs-subst">${c1}</span>`</span>);
  });

  <span class="hljs-keyword">let</span> p2 = c2.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
    <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Hubieron errores:\n<span class="hljs-subst">${err}</span>`</span>); <span class="hljs-keyword">return</span> err; }
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Saved: <span class="hljs-subst">${c2}</span>`</span>);
  });

  <span class="hljs-keyword">let</span> p3 = Card.create(c3, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, x</span>) </span>{
    <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Hubieron errores:\n<span class="hljs-subst">${err}</span>`</span>); <span class="hljs-keyword">return</span> err; }
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Saved p3: <span class="hljs-subst">${x}</span>`</span>);
  });

  <span class="hljs-built_in">Promise</span>.all([p1, p2, p3]).then( <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> { 
    <span class="hljs-built_in">console</span>.log(util.inspect(value, {<span class="hljs-attr">depth</span>: <span class="hljs-literal">null</span>}));  
    mongoose.connection.close(); 
  });
})();
</code></pre>
<p>cuando se ejecuta este programa produce la siguiente salida:</p>
<pre><code class="lang-bash">[~/javascript/mongoose/hello]$ node hello-cards.js 
Saved: { chuchu: [ { _id: 570fe42c8f5fb2f208a8c756, b: <span class="hljs-string">&apos;world!&apos;</span>, a: <span class="hljs-string">&apos;hello&apos;</span> } ],
  _id: 570fe42c8f5fb2f208a8c755,
  suit: <span class="hljs-string">&apos;spades &#x2660;&apos;</span>,
  rank: <span class="hljs-string">&apos;ace&apos;</span>,
  __v: 0 }
Saved: { chuchu: [ { _id: 570fe42c8f5fb2f208a8c758, b: <span class="hljs-string">&apos;mundo&apos;</span>, a: <span class="hljs-string">&apos;hola&apos;</span> } ],
  _id: 570fe42c8f5fb2f208a8c757,
  suit: <span class="hljs-string">&apos;hearts &#x2665;&apos;</span>,
  rank: <span class="hljs-string">&apos;2&apos;</span>,
  __v: 0 }
Saved p3: { chuchu: [ { _id: 570fe42c8f5fb2f208a8c75a, b: <span class="hljs-string">&apos;mundo&apos;</span>, a: <span class="hljs-string">&apos;hola&apos;</span> } ],
  rank: <span class="hljs-string">&apos;3&apos;</span>,
  suit: <span class="hljs-string">&apos;clubs &#x2663;&apos;</span>,
  _id: 570fe42c8f5fb2f208a8c759,
  __v: 0 }
[ { chuchu: [ { _id: 570fe42c8f5fb2f208a8c756, b: <span class="hljs-string">&apos;world!&apos;</span>, a: <span class="hljs-string">&apos;hello&apos;</span> } ],
    _id: 570fe42c8f5fb2f208a8c755,
    suit: <span class="hljs-string">&apos;spades &#x2660;&apos;</span>,
    rank: <span class="hljs-string">&apos;ace&apos;</span>,
    __v: 0 },
  { chuchu: [ { _id: 570fe42c8f5fb2f208a8c758, b: <span class="hljs-string">&apos;mundo&apos;</span>, a: <span class="hljs-string">&apos;hola&apos;</span> } ],
    _id: 570fe42c8f5fb2f208a8c757,
    suit: <span class="hljs-string">&apos;hearts &#x2665;&apos;</span>,
    rank: <span class="hljs-string">&apos;2&apos;</span>,
    __v: 0 },
  { chuchu: [ { _id: 570fe42c8f5fb2f208a8c75a, b: <span class="hljs-string">&apos;mundo&apos;</span>, a: <span class="hljs-string">&apos;hola&apos;</span> } ],
    rank: <span class="hljs-string">&apos;3&apos;</span>,
    suit: <span class="hljs-string">&apos;clubs &#x2663;&apos;</span>,
    _id: 570fe42c8f5fb2f208a8c759,
    __v: 0 } ]
</code></pre>
<ul>
<li><a href="https://gist.github.com/crguezl/39f8d635917f7a3b5164a817ef65095b" target="_blank">Gist en GitHub</a></li>
<li><a href="https://gist.github.com/39f8d635917f7a3b5164a817ef65095b.git" target="_blank">Clonar gist con este c&#xF3;digo</a></li>
</ul>
<pre><code class="lang-bash">[~/javascript/mongoose/hello/mongoosepromisesexample(master)]$ <span class="hljs-built_in">pwd</span> -P
/Users/casiano/<span class="hljs-built_in">local</span>/src/javascript/mongoose/hello/mongoosepromisesexample
</code></pre>
<h4 id="queries-en-mongoose">Queries en Mongoose</h4>
<p>We can also interact directly with the model to pull items out of the database using the <code>find</code> function that&#x2019;s part of the data model. Like the <code>find</code> function in the interactive
MongoDB client, this function takes in an arbitrary MongoDB query. The difference is that it restricts itself to the types that are defined by the model:</p>
<pre><code class="lang-javascript">  <span class="hljs-keyword">let</span> c1, c2, c3, c4;
  Card.remove().then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    c1 = <span class="hljs-keyword">new</span> Card({<span class="hljs-string">&quot;rank&quot;</span>:<span class="hljs-string">&quot;ace&quot;</span>, <span class="hljs-string">&quot;suit&quot;</span>:<span class="hljs-string">&quot;spades &#x2660;&quot;</span>   });
    <span class="hljs-comment">/* ... as before ... */</span>
    <span class="hljs-keyword">let</span> p4 = <span class="hljs-built_in">Promise</span>.all([p1, p2, p3]).then( <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> { 
      Card.find({}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, cards</span>) </span>{ 
        <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;ERROR: &quot;</span> + err); }
        <span class="hljs-keyword">let</span> c = <span class="hljs-number">1</span>;
        cards.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">card</span>) </span>{
          <span class="hljs-built_in">console</span>.log (<span class="hljs-string">`<span class="hljs-subst">${c++}</span>: <span class="hljs-subst">${card.rank}</span> of <span class="hljs-subst">${card.suit}</span>`</span>);
        }); 
      }).then( <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ mongoose.connection.close(); } );  
    });
</code></pre>
<p>(<a href="https://gist.github.com/crguezl/c706121ee8f5cdae99d0061bccfe1d60" target="_blank">V&#xE9;ase el Gist con el c&#xF3;digo completo</a>)</p>
<p>In mongoose 4, a Query has a <code>.then()</code> function, and thus can be used as a promise.</p>
<p>Any model method which involves specifying query conditions can be executed two ways:</p>
<p>When a <code>callback</code> function:</p>
<ul>
<li><strong>is passed</strong>, the operation will be executed immediately with the results passed to the <code>callback</code>.</li>
<li><strong>is not passed</strong>, an instance of <a href="http://mongoosejs.com/docs/api.html#query-js" target="_blank">Query</a> is returned, which provides a special query builder interface.</li>
</ul>
<p>When executing a query with a <code>callback</code> function, you specify your query as a JSON document. The JSON document&apos;s syntax is the same as the <a href="https://docs.mongodb.org/manual/tutorial/query-documents/" target="_blank">MongoDB shell</a>.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> Person = mongoose.model(<span class="hljs-string">&apos;Person&apos;</span>, yourSchema);

<span class="hljs-comment">// find each person with a last name matching &apos;Ghost&apos;, selecting the `name` and `occupation` fields</span>
Person.findOne({ <span class="hljs-string">&apos;name.last&apos;</span>: <span class="hljs-string">&apos;Ghost&apos;</span> }, <span class="hljs-string">&apos;name occupation&apos;</span>, 
  <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, person</span>) </span>{
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;%s %s is a %s.&apos;</span>, person.name.first, person.name.last, person.occupation) <span class="hljs-comment">// Space Ghost is a talk show host.</span>
  })
</code></pre>
<p>Now let&apos;s look at what happens when no callback is passed:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// find each person with a last name matching &apos;Ghost&apos;</span>
<span class="hljs-keyword">var</span> query = Person.findOne({ <span class="hljs-string">&apos;name.last&apos;</span>: <span class="hljs-string">&apos;Ghost&apos;</span> });

<span class="hljs-comment">// selecting the `name` and `occupation` fields</span>
query.select(<span class="hljs-string">&apos;name occupation&apos;</span>);

<span class="hljs-comment">// execute the query at a later time</span>
query.exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, person</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;%s %s is a %s.&apos;</span>, person.name.first, person.name.last, person.occupation) <span class="hljs-comment">// Space Ghost is a talk show host.</span>
})
</code></pre>
<p>In the above code, the query variable is of type <a href="http://mongoosejs.com/docs/api.html#query-js" target="_blank">Query</a>. A <a href="http://mongoosejs.com/docs/api.html#query-js" target="_blank">Query</a> enables you to build up a query using chaining syntax, rather than specifying a JSON object. </p>
<p>A full example can be found in this <a href="https://gist.github.com/crguezl/165cfec398c5576b6d4d88f3e4b6f204" target="_blank">gist</a>.</p>
<p>The below 2 examples are equivalent.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// With a JSON doc</span>
Person.
  find({
    <span class="hljs-attr">occupation</span>: <span class="hljs-regexp">/host/</span>,
    <span class="hljs-string">&apos;name.last&apos;</span>: <span class="hljs-string">&apos;Ghost&apos;</span>,
    <span class="hljs-attr">age</span>: { <span class="hljs-attr">$gt</span>: <span class="hljs-number">17</span>, <span class="hljs-attr">$lt</span>: <span class="hljs-number">66</span> },
    <span class="hljs-attr">likes</span>: { <span class="hljs-attr">$in</span>: [<span class="hljs-string">&apos;vaporizing&apos;</span>, <span class="hljs-string">&apos;talking&apos;</span>] }
  }).
  limit(<span class="hljs-number">10</span>).
  sort({ <span class="hljs-attr">occupation</span>: <span class="hljs-number">-1</span> }).
  select({ <span class="hljs-attr">name</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">occupation</span>: <span class="hljs-number">1</span> }).
  exec(callback);

<span class="hljs-comment">// Using query builder</span>
Person.
  find({ <span class="hljs-attr">occupation</span>: <span class="hljs-regexp">/host/</span> }).
  where(<span class="hljs-string">&apos;name.last&apos;</span>).equals(<span class="hljs-string">&apos;Ghost&apos;</span>).
  where(<span class="hljs-string">&apos;age&apos;</span>).gt(<span class="hljs-number">17</span>).lt(<span class="hljs-number">66</span>).
  where(<span class="hljs-string">&apos;likes&apos;</span>).in([<span class="hljs-string">&apos;vaporizing&apos;</span>, <span class="hljs-string">&apos;talking&apos;</span>]).
  limit(<span class="hljs-number">10</span>).
  sort(<span class="hljs-string">&apos;-occupation&apos;</span>).
  select(<span class="hljs-string">&apos;name occupation&apos;</span>).
  exec(callback);
</code></pre>
<p>A full list of <a href="http://mongoosejs.com/docs/api.html#query-js" target="_blank">Query helper functions can be found in the API docs</a>.</p>
<h5 id="queries-v&#xE9;ase">Queries: V&#xE9;ase</h5>
<ul>
<li><a href="http://mongoosejs.com/docs/queries.html" target="_blank">Mongoose Docs: Queries</a></li>
</ul>
<h4 id="mongoose-validaciones">Mongoose Validaciones</h4>
<p>One of the core concepts of Mongoose is that it enforces a schema on top of a schema-less design such as MongoDB. 
In doing so, we gain a number of new features, including built-in validation. 
By default, every schema type has a built-in required validator available. </p>
<p>Furthermore, numbers have both min and max validators and strings have enumeration and matching validators</p>
<p>Validation will  re automatically whenever a model&apos;s <code>.save()</code> function is called; 
however, you can also manually validate by calling a model&apos;s <code>.validate()</code> function 
with a callback to handle the response.</p>
<ul>
<li>V&#xE9;ase <a href="http://mongoosejs.com/docs/validation.html" target="_blank">la documentaci&#xF3;n de Mongoose sobre Validaciones</a></li>
</ul>
<h5 id="ejemplo-de-validaci&#xF3;n-de-n&#xFA;meros">Ejemplo de Validaci&#xF3;n de N&#xFA;meros</h5>
<pre><code class="lang-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  &quot;use strict&quot;</span>;
  <span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>);
  <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);

  mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/tutu&apos;</span>);
  <span class="hljs-keyword">const</span> ScoreSchema = mongoose.Schema({ 
    <span class="hljs-string">&quot;name&quot;</span> : { <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-string">&quot;cal&quot;</span> : { <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">10</span> }
  });

  <span class="hljs-keyword">const</span> Score = mongoose.model(<span class="hljs-string">&quot;Score&quot;</span>, ScoreSchema);

  Score.remove().then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> c = [ <span class="hljs-keyword">new</span> Score({<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Juana&quot;</span>,   <span class="hljs-string">&quot;cal&quot;</span>:<span class="hljs-number">10</span>   }),
         <span class="hljs-keyword">new</span> Score({<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Pedro&quot;</span>,   <span class="hljs-string">&quot;cal&quot;</span>:<span class="hljs-number">3</span> }),
         <span class="hljs-keyword">new</span> Score({<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Maria&quot;</span>,   <span class="hljs-string">&quot;cal&quot;</span>:<span class="hljs-number">5</span> }),
         <span class="hljs-keyword">new</span> Score({<span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;Antonio&quot;</span>, <span class="hljs-string">&quot;cal&quot;</span>:<span class="hljs-number">12</span> })];


    <span class="hljs-keyword">let</span> p = [];
    c.forEach( <span class="hljs-function">(<span class="hljs-params">n, i</span>) =&gt;</span> {
      p[i] = n.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
        <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Hubieron errores salvando <span class="hljs-subst">${n}</span>:\n<span class="hljs-subst">${err}</span>`</span>); <span class="hljs-keyword">return</span> err; }
      });
    });

    <span class="hljs-keyword">let</span> p5 = <span class="hljs-built_in">Promise</span>.all(p).then( <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> { 
      <span class="hljs-keyword">let</span> query = Score.find({<span class="hljs-attr">cal</span>: {<span class="hljs-attr">$lte</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">$gte</span>: <span class="hljs-number">5</span>}});
      query.select(<span class="hljs-string">&apos;name cal&apos;</span>);
      query.exec(<span class="hljs-function">(<span class="hljs-params">err, notas</span>) =&gt;</span> { 
        <span class="hljs-keyword">if</span> (err) { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;ERROR: &quot;</span> + err); }
        <span class="hljs-keyword">let</span> c = <span class="hljs-number">1</span>;
        notas.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">nota</span>) </span>{
          <span class="hljs-built_in">console</span>.log (<span class="hljs-string">`<span class="hljs-subst">${c++}</span>: <span class="hljs-subst">${nota.name}</span> of <span class="hljs-subst">${nota.cal}</span>`</span>);
        }); 
      }).then( <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ mongoose.connection.close(); } );  
    },
    (err) =&gt; {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Grrr!!! Ocurrieron errores! &lt;<span class="hljs-subst">${err}</span>&gt;`</span>);
      mongoose.connection.close();   
    }
    );
  });
})();
</code></pre>
<p>Cuando se ejecuta este programa produce una salida como esta:</p>
<pre><code class="lang-javascript">[~<span class="hljs-regexp">/local/</span>src/javascript/mongoose/hello/mongoosevalidation(master)]$ node mongoosevalidation.js 
Hubieron errores salvando { <span class="hljs-attr">_id</span>: <span class="hljs-number">5715544</span>dc02f40826891f8f8, <span class="hljs-attr">cal</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&apos;Antonio&apos;</span> }:
ValidationError: Path <span class="hljs-string">`cal`</span> (<span class="hljs-number">12</span>) is more than maximum allowed value (<span class="hljs-number">10</span>).
Grrr!!! Ocurrieron errores! <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ValidationError:</span> <span class="hljs-attr">Path</span> `<span class="hljs-attr">cal</span>` (<span class="hljs-attr">12</span>) <span class="hljs-attr">is</span> <span class="hljs-attr">more</span> <span class="hljs-attr">than</span> <span class="hljs-attr">maximum</span> <span class="hljs-attr">allowed</span> <span class="hljs-attr">value</span> (<span class="hljs-attr">10</span>)<span class="hljs-attr">.</span>&gt;</span>
Hubieron errores salvando { _id: 5715544dc02f40826891f8f5, cal: 10, name: &apos;Juana&apos;, __v: 0 }:
MongoError: server localhost:27017 sockets closed
Hubieron errores salvando { _id: 5715544dc02f40826891f8f6, cal: 3, name: &apos;Pedro&apos;, __v: 0 }:
MongoError: server localhost:27017 sockets closed
Hubieron errores salvando { _id: 5715544dc02f40826891f8f7, cal: 5, name: &apos;Maria&apos;, __v: 0 }:
MongoError: server localhost:27017 sockets closed
</span></code></pre>
<h5 id="ejemplo-de-validaci&#xF3;n-de-strings">Ejemplo de Validaci&#xF3;n de Strings</h5>
<p>Este otro ejemplo muestra como construir un validador para un atributo del tipo <code>String</code>:</p>
<pre><code class="lang-javascript"><span class="hljs-meta">  &quot;use strict&quot;</span>;
  <span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>);
  <span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);
  <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);

  mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/tutu&apos;</span>);

    <span class="hljs-keyword">var</span> toySchema = <span class="hljs-keyword">new</span> mongoose.Schema({
      <span class="hljs-attr">color</span>: <span class="hljs-built_in">String</span>,
      <span class="hljs-attr">name</span>: <span class="hljs-built_in">String</span>
    });

    <span class="hljs-keyword">var</span> Toy = mongoose.model(<span class="hljs-string">&apos;Toy&apos;</span>, toySchema);

    <span class="hljs-keyword">var</span> validator = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-regexp">/blue|green|white|red|orange|periwinkle/i</span>.test(value);
    };
    Toy.schema.path(<span class="hljs-string">&apos;color&apos;</span>).validate(validator,
      <span class="hljs-string">&apos;Color `{VALUE}` not valid&apos;</span>, <span class="hljs-string">&apos;Invalid color&apos;</span>);

    <span class="hljs-keyword">var</span> toy = <span class="hljs-keyword">new</span> Toy({ <span class="hljs-attr">color</span>: <span class="hljs-string">&apos;grease&apos;</span>});

    toy.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
      <span class="hljs-comment">// err is our ValidationError object</span>
      <span class="hljs-comment">// err.errors.color is a ValidatorError object</span>
      <span class="hljs-built_in">console</span>.log(err);

      assert.equal(err.errors.color.message, <span class="hljs-string">&apos;Color `grease` not valid&apos;</span>);
      assert.equal(err.errors.color.kind, <span class="hljs-string">&apos;Invalid color&apos;</span>);
      assert.equal(err.errors.color.path, <span class="hljs-string">&apos;color&apos;</span>);
      assert.equal(err.errors.color.value, <span class="hljs-string">&apos;grease&apos;</span>);
      assert.equal(err.name, <span class="hljs-string">&apos;ValidationError&apos;</span>);

      mongoose.connection.close();   
    });
</code></pre>
<h5 id="validaciones-pre-constru&#xED;das">Validaciones Pre Constru&#xED;das</h5>
<p>Mongoose has several built-in validators.</p>
<p>All SchemaTypes have the built-in required validator. </p>
<ul>
<li><code>Numbers</code> have <code>min</code> and <code>max</code> validators.</li>
<li><code>Strings</code> have <code>enum</code>, <code>match</code>, <code>maxlength</code> and <code>minlength</code> validators.</li>
</ul>
<pre><code class="lang-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  &quot;use strict&quot;</span>;
  <span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>);
  <span class="hljs-keyword">const</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);
  <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);

  mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/tutu&apos;</span>);

  <span class="hljs-keyword">const</span> breakfastSchema = <span class="hljs-keyword">new</span> mongoose.Schema({
    <span class="hljs-attr">eggs</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
      <span class="hljs-attr">min</span>: [<span class="hljs-number">6</span>, <span class="hljs-string">&apos;Too few eggs&apos;</span>],
      <span class="hljs-attr">max</span>: <span class="hljs-number">12</span>
    },
    <span class="hljs-attr">bacon</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
      <span class="hljs-attr">required</span>: [<span class="hljs-literal">true</span>, <span class="hljs-string">&apos;Why no bacon?&apos;</span>]
    },
    <span class="hljs-attr">drink</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
      <span class="hljs-attr">enum</span>: [<span class="hljs-string">&apos;Coffee&apos;</span>, <span class="hljs-string">&apos;Tea&apos;</span>]
    }
  });
  <span class="hljs-keyword">const</span> Breakfast = mongoose.model(<span class="hljs-string">&apos;Breakfast&apos;</span>, breakfastSchema);

  <span class="hljs-keyword">let</span> badBreakfast = <span class="hljs-keyword">new</span> Breakfast({
    <span class="hljs-attr">eggs</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">bacon</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">drink</span>: <span class="hljs-string">&apos;Milk&apos;</span>
  });
  <span class="hljs-keyword">let</span> error = badBreakfast.validateSync();
  <span class="hljs-built_in">console</span>.log(error);
  assert.equal(error.errors[<span class="hljs-string">&apos;eggs&apos;</span>].message,
    <span class="hljs-string">&apos;Too few eggs&apos;</span>);
  assert.ok(!error.errors[<span class="hljs-string">&apos;bacon&apos;</span>]);
  assert.equal(error.errors[<span class="hljs-string">&apos;drink&apos;</span>].message,
    <span class="hljs-string">&apos;`Milk` is not a valid enum value for path `drink`.&apos;</span>);

  badBreakfast.bacon = <span class="hljs-literal">null</span>;
  error = badBreakfast.validateSync();
  assert.equal(error.errors[<span class="hljs-string">&apos;bacon&apos;</span>].message, <span class="hljs-string">&apos;Why no bacon?&apos;</span>);

  mongoose.connection.close();   

})();
</code></pre>
<p>Cuando se ejecuta, este programa produce una salida como esta:</p>
<pre><code class="lang-bash">[~/javascript/mongoose/hello/mongoosevalidation(master)]$ node mongoosebuiltinvalidators.js 
{ [ValidationError: Breakfast validation failed]
  message: <span class="hljs-string">&apos;Breakfast validation failed&apos;</span>,
  name: <span class="hljs-string">&apos;ValidationError&apos;</span>,
  errors: 
   { drink: 
      { [ValidatorError: `Milk` is not a valid enum value <span class="hljs-keyword">for</span> path `drink`.]
        message: <span class="hljs-string">&apos;`Milk` is not a valid enum value for path `drink`.&apos;</span>,
        name: <span class="hljs-string">&apos;ValidatorError&apos;</span>,
        properties: [Object],
        kind: <span class="hljs-string">&apos;enum&apos;</span>,
        path: <span class="hljs-string">&apos;drink&apos;</span>,
        value: <span class="hljs-string">&apos;Milk&apos;</span> },
     eggs: 
      { [ValidatorError: Too few eggs]
        message: <span class="hljs-string">&apos;Too few eggs&apos;</span>,
        name: <span class="hljs-string">&apos;ValidatorError&apos;</span>,
        properties: [Object],
        kind: <span class="hljs-string">&apos;min&apos;</span>,
        path: <span class="hljs-string">&apos;eggs&apos;</span>,
        value: 2 } } }
</code></pre>
<h5 id="v&#xE9;ase-el-gist">V&#xE9;ase el gist</h5>
<ul>
<li><a href="https://gist.github.com/crguezl/82caad653fc2483b9d5b623536060eb0" target="_blank">gist</a></li>
</ul>
<h4 id="ejemplo-simple-de-uso-de-mongoose-con-express">Ejemplo Simple de uso de Mongoose con Express</h4>
<ul>
<li><a href="https://github.com/ULL-ESIT-GRADOII-DSI/mongo-example-todos" target="_blank">Ejemplo sacado del libro &quot;learning Web App Development&quot;</a><ul>
<li><a href="http://api.jquery.com/jquery.getjson/" target="_blank">jQuery <code>getJSON</code></a></li>
<li><a href="http://api.jquery.com/removeclass/" target="_blank">jQuery <code>removeClass</code></a></li>
<li><a href="http://api.jquery.com/trigger/" target="_blank">jQuery <code>trigger</code></a></li>
</ul>
</li>
</ul>
<h4 id="middlewares">Middlewares</h4>
<p>Middleware (also called pre and post hooks) are functions which are passed control during execution of asynchronous functions. </p>
<p>Middleware is specified on the schema level and is useful for writing plugins. </p>
<p>Mongoose 4.0 has 2 types of middleware: </p>
<ol>
<li>document middleware and </li>
<li>query middleware. </li>
</ol>
<p>Document middleware is supported for the following document functions.</p>
<ul>
<li>init</li>
<li>validate</li>
<li>save</li>
<li>remove</li>
</ul>
<p>Query middleware is supported for the following Model and Query functions.</p>
<ul>
<li>count</li>
<li>find</li>
<li>findOne</li>
<li>findOneAndRemove</li>
<li>findOneAndUpdate</li>
<li>update</li>
</ul>
<p>Both document middleware and query middleware support pre and post hooks. </p>
<ul>
<li><a href="http://mongoosejs.com/docs/middleware.html" target="_blank">Middleware</a></li>
</ul>
<h4 id="population">Population</h4>
<p>There are no joins in MongoDB but sometimes we still want references to documents in other collections. This is where population comes in. </p>
<p>Population is the process of automatically replacing the specified paths in the document with document(s) from other collection(s). </p>
<p>We may populate a single document, multiple documents, plain object, multiple plain objects, or all objects returned from a query.</p>
<pre><code class="lang-javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">  &quot;use strict&quot;</span>;
  <span class="hljs-keyword">const</span> util = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;util&apos;</span>);
  <span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mongoose&apos;</span>);

  mongoose.connect(<span class="hljs-string">&apos;mongodb://localhost/tutu&apos;</span>);

  <span class="hljs-keyword">const</span> Schema = mongoose.Schema;

  <span class="hljs-keyword">const</span> personSchema = Schema({
    <span class="hljs-attr">name</span>    : <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">age</span>     : <span class="hljs-built_in">Number</span>,
    <span class="hljs-attr">stories</span> : [{ <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Story&apos;</span> }]
  });

  <span class="hljs-keyword">const</span> storySchema = Schema({
    <span class="hljs-attr">_creator</span> : { <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> },
    <span class="hljs-attr">title</span>    : <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">fans</span>     : [{ <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> }]
  });

  <span class="hljs-keyword">const</span> Story  = mongoose.model(<span class="hljs-string">&apos;Story&apos;</span>, storySchema);
  <span class="hljs-keyword">const</span> Person = mongoose.model(<span class="hljs-string">&apos;Person&apos;</span>, personSchema);

  Person.remove({}).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    Story.remove({}).then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      <span class="hljs-keyword">let</span> aaron = <span class="hljs-keyword">new</span> Person({ <span class="hljs-attr">name</span>: <span class="hljs-string">&apos;Aaron&apos;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">100</span> });

      aaron.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
        <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err);

        <span class="hljs-keyword">let</span> story1 = <span class="hljs-keyword">new</span> Story({
          <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Once upon a timex.&quot;</span>,
          <span class="hljs-attr">_creator</span>: aaron._id    <span class="hljs-comment">// assign the _id from the person</span>
        });

        story1.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
          <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err);
          <span class="hljs-comment">// thats it!</span>
        }).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{

          Story
          .findOne({ <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Once upon a timex.&apos;</span> })
          .populate(<span class="hljs-string">&apos;_creator&apos;</span>)
          .exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, story</span>) </span>{
            <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err);
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The creator is %s&apos;</span>, story._creator.name);
            <span class="hljs-comment">// prints &quot;The creator is Aaron&quot;</span>
          }).then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
            mongoose.connection.close(); 
          });

        });
      });
    });
  });
})();
</code></pre>
<p>The <code>ref</code>  option is what tells Mongoose in which model to look when using the <code>populate</code> 
method, in our case the <code>Story</code> model:</p>
<pre><code class="lang-javascript">  <span class="hljs-keyword">const</span> personSchema = Schema({
    <span class="hljs-attr">name</span>    : <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">age</span>     : <span class="hljs-built_in">Number</span>,
    <span class="hljs-attr">stories</span> : [{ <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Story&apos;</span> }]
  });
</code></pre>
<ul>
<li>We&apos;ve created two Models. </li>
<li>Our <code>Person</code> model has its stories field set to an array of <code>ObjectId</code>s and <code>refs</code>. </li>
<li>The <code>ref</code> option is what tells Mongoose which model to use when calling <code>populate</code>, 
in our case the <code>Story</code> model. </li>
<li>All <code>_id</code>s we store here must be document <code>_id</code>s from the <code>Story</code> model. </li>
<li>We also declared the <code>Story</code> <code>_creator</code> property as a <code>ObjectId</code>, 
the same type as the default <code>_id</code> used in the <code>personSchema</code>. <pre><code class="lang-javascript">  <span class="hljs-keyword">const</span> storySchema = Schema({
    <span class="hljs-attr">_creator</span> : { <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> },
    <span class="hljs-attr">title</span>    : <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">fans</span>     : [{ <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> }]
  });
</code></pre>
</li>
<li>Populated paths are no longer set to their original <code>_id</code> , their value is replaced with the mongoose document returned from the database by performing a separate query before returning the results.<pre><code class="lang-javascript">        Story
        .findOne({ <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Once upon a timex.&apos;</span> })
        .populate(<span class="hljs-string">&apos;_creator&apos;</span>)
        .exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, story</span>) </span>{
          <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err);
          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The creator is %s&apos;</span>, story._creator.name);
          <span class="hljs-comment">// prints &quot;The creator is Aaron&quot;</span>
        }).then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
</code></pre>
</li>
<li>Arrays of refs work the same way. Just call the <a href="http://mongoosejs.com/docs/api.html#query_Query-populate" target="_blank">populate</a>
method on the query and an array of documents will be returned in place of the original <code>_id</code>s.</li>
<li><p>It is important to match the type of <code>_id</code> to the type of <code>ref</code> (see this <a href="https://gist.github.com/crguezl/06cef7cb8078a78a84bc0a28b8e014f8#file-mongoosepopulation-js-L10-L21" target="_blank">example</a>):</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> personSchema = Schema({
  <span class="hljs-attr">_id</span>     : <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">name</span>    : <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">age</span>     : <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">stories</span> : [{ <span class="hljs-attr">type</span>: Schema.Types.ObjectId, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Story&apos;</span> }]
});

<span class="hljs-keyword">const</span> storySchema = Schema({
  <span class="hljs-attr">_creator</span> : { <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> },
  <span class="hljs-attr">title</span>    : <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">fans</span>     : [{ <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>, <span class="hljs-attr">ref</span>: <span class="hljs-string">&apos;Person&apos;</span> }]
});
</code></pre>
</li>
<li><p>Saving refs to other documents works the same way you normally save properties, just assign the <code>_id</code> value:</p>
<pre><code class="lang-javascript">        <span class="hljs-keyword">let</span> story1 = <span class="hljs-keyword">new</span> Story({
          <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Once upon a timex.&quot;</span>,
          <span class="hljs-attr">_creator</span>: aaron._id    <span class="hljs-comment">// assign the _id from the person</span>
        });

        story1.save(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) </span>{
          <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(err);
          <span class="hljs-comment">// thats it!</span>
        }).then(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{ ...
</code></pre>
</li>
<li><p><a href="https://gist.github.com/crguezl/06cef7cb8078a78a84bc0a28b8e014f8" target="_blank">gist with the examples</a></p>
</li>
</ul>
<h5 id="setting-populated-fields-simply-assign-the-object">Setting Populated Fields: Simply Assign the Object</h5>
<p>In Mongoose &gt;= 4.0, you can directly populate a field by simply assigning the object:</p>
<pre><code class="lang-javascript">Story.findOne({ <span class="hljs-attr">title</span>: <span class="hljs-string">&apos;Once upon a timex.&apos;</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error, story</span>) </span>{
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> handleError(error);
  }
  story._creator = aaron;
  <span class="hljs-built_in">console</span>.log(story._creator.name); <span class="hljs-comment">// prints &quot;Aaron&quot;</span>
});
</code></pre>
<p>Instead of writing:</p>
<pre><code class="lang-javascript">        <span class="hljs-keyword">let</span> story1 = <span class="hljs-keyword">new</span> Story({
          <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Once upon a timex.&quot;</span>,
          <span class="hljs-attr">_creator</span>: aaron._id    <span class="hljs-comment">// assign the _id from the person</span>
        });
</code></pre>
<ul>
<li>Note that this only works for single refs. </li>
<li>You currently can&apos;t manually populate an array of refs.</li>
</ul>
<h5 id="field-selection">Field selection</h5>
<p>What if we only want a few specific fields returned for the populated
documents? This can be accomplished by passing the usual 
<a href="http://mongoosejs.com/docs/api.html#query_Query-select" target="_blank">field name syntax</a> 
as the second argument to the populate method:</p>
<pre><code class="lang-javascript">Story
.findOne({ <span class="hljs-attr">title</span>: <span class="hljs-regexp">/timex/i</span> })
.populate(<span class="hljs-string">&apos;_creator&apos;</span>, <span class="hljs-string">&apos;name&apos;</span>) <span class="hljs-comment">// only return the Persons name</span>
.exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, story</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The creator is %s&apos;</span>, story._creator.name);
  <span class="hljs-comment">// prints &quot;The creator is Aaron&quot;</span>

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The creators age is %s&apos;</span>, story._creator.age);
  <span class="hljs-comment">// prints &quot;The creators age is null&apos;</span>
})
</code></pre>
<p>or using the <code>select</code> field in the object  query  (also known as the query &quot;projection&quot;):</p>
<pre><code class="lang-javascript">                Story
                .findOne({ <span class="hljs-attr">title</span>: <span class="hljs-regexp">/timex/i</span> })
                .populate({ <span class="hljs-attr">path</span>: <span class="hljs-string">&apos;_creator&apos;</span>, <span class="hljs-attr">select</span>: <span class="hljs-string">&apos;name&apos;</span> })
                .exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, story</span>) </span>{
                  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
                  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The creator is %s&apos;</span>, story._creator.name)
                }).then( <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { ...
</code></pre>
<ul>
<li>When using string syntax, prefixing a path with - will flag that
path as excluded. </li>
<li>When a path does not have the - prefix, it is
included. </li>
<li>Lastly, if a path is prefixed with +, it forces inclusion
of the path, which is useful for paths excluded at the <a href="http://mongoosejs.com/docs/api.html#schematype_SchemaType-select" target="_blank">schema level</a> which sets the default <code>select()</code> behavior.</li>
</ul>
<h5 id="populating-multiple-paths">Populating multiple paths</h5>
<p>What if we wanted to populate multiple paths at the same time?</p>
<pre><code class="lang-javascript">Story
.find(...)
.populate(<span class="hljs-string">&apos;fans _creator&apos;</span>) <span class="hljs-comment">// space delimited path names</span>
.exec()
</code></pre>
<ul>
<li>In mongoose &gt;= 3.6, we can pass a space delimited string of path
names to populate. </li>
<li>Before 3.6 you must execute the populate() method
multiple times.</li>
<li>V&#xE9;ase por ejemplo <a href="https://gist.github.com/crguezl/06cef7cb8078a78a84bc0a28b8e014f8#file-mongoosepopulationwithfans-js-L43-L50" target="_blank">mongoosepopulationwithfans.js</a></li>
</ul>
<pre><code class="lang-javascript">Story
.find(...)
.populate(<span class="hljs-string">&apos;fans&apos;</span>)
.populate(<span class="hljs-string">&apos;_creator&apos;</span>)
.exec()
</code></pre>
<h5 id="query-conditions-and-other-options">Query conditions and other options</h5>
<p>What if we wanted to populate our fans array based on their age, select just their names, and return at most, any 5 of them?</p>
<pre><code class="lang-javascript">Story
.find(...)
.populate({
  <span class="hljs-attr">path</span>: <span class="hljs-string">&apos;fans&apos;</span>,
  <span class="hljs-attr">match</span>: { <span class="hljs-attr">age</span>: { <span class="hljs-attr">$gte</span>: <span class="hljs-number">21</span> }},
  <span class="hljs-attr">select</span>: <span class="hljs-string">&apos;name -_id&apos;</span>,
  <span class="hljs-attr">options</span>: { <span class="hljs-attr">limit</span>: <span class="hljs-number">5</span> }
})
.exec()
</code></pre>
<ul>
<li>V&#xE9;ase <a href="https://gist.github.com/crguezl/06cef7cb8078a78a84bc0a28b8e014f8#file-mongoosepopulationconditions-js-L46-L53" target="_blank">mongoosepopulationconditions.js</a></li>
</ul>
<h5 id="refs-to-children">Refs to children</h5>
<p>We may find however, if we use the <code>aaron</code> object, we are unable to get a list of the stories. This is because no story objects were ever &apos;pushed&apos; onto <code>aaron.stories</code>.</p>
<p>There are two perspectives here. First, it&apos;s nice to have aaron know which stories are his.</p>
<pre><code class="lang-javascript">aaron.stories.push(story1);
aaron.save(callback);
This allows us to perform a find and populate combo:
</code></pre>
<pre><code class="lang-javascript">Person
.findOne({ <span class="hljs-attr">name</span>: <span class="hljs-string">&apos;Aaron&apos;</span> })
.populate(<span class="hljs-string">&apos;stories&apos;</span>) <span class="hljs-comment">// only works if we pushed refs to children</span>
.exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, person</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
  <span class="hljs-built_in">console</span>.log(person);
})
</code></pre>
<p>It is debatable that we really want two sets of pointers as they may get out of sync. Instead we could skip populating and directly <code>find()</code> the stories we are interested in.</p>
<pre><code class="lang-javascript">Story
.find({ <span class="hljs-attr">_creator</span>: aaron._id })
.exec(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, stories</span>) </span>{
  <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> handleError(err);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;The stories are an array: &apos;</span>, stories);
})
</code></pre>
<ul>
<li>V&#xE9;ase <a href="https://gist.github.com/crguezl/06cef7cb8078a78a84bc0a28b8e014f8#file-mongoosepopulationstories-js" target="_blank">mongoosepopulationstories.js</a></li>
</ul>
<h5 id="populate-v&#xE9;ase">Populate: V&#xE9;ase</h5>
<ul>
<li><a href="http://mongoosejs.com/docs/populate.html" target="_blank">Mongoose Populate</a></li>
<li><a href="http://mongoosejs.com/docs/2.7.x/docs/populate.html" target="_blank">Mongoose Populate 2.7</a></li>
<li><a href="http://frontendcollisionblog.com/mongodb/2016/01/24/mongoose-populate.html" target="_blank">Understanding Mongoose Deep Population</a></li>
</ul>
<h4 id="tutoriales-sobre-mongoose">Tutoriales sobre Mongoose</h4>
<ul>
<li><a href="https://scotch.io/tutorials/using-mongoosejs-in-node-js-and-mongodb-applications" target="_blank">Easily Develop Node.js and MongoDB Apps with Mongoose</a></li>
</ul>

                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="mongodb.html" class="navigation navigation-prev " aria-label="Previous page: MongoDB">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../../repasos/mongo.html" class="navigation navigation-next " aria-label="Next page: Preguntas de Mongo">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Mongoose","level":"24.1.3.2","depth":3,"next":{"title":"Preguntas de Mongo","level":"25.1","depth":1,"path":"repasos/mongo.md","ref":"repasos/mongo.md","articles":[]},"previous":{"title":"MongoDB","level":"24.1.3.1","depth":3,"path":"apuntes/db/mongo/mongodb.md","ref":"apuntes/db/mongo/mongodb.md","articles":[]},"dir":"ltr"},"config":{"plugins":["include","katex","include-codeblock","ace","-autocover","-layout","youtube","video","highlight","sectionx","code-highlighter","copy-code-button","page-toc","-toc","-latex-codecogs","-emphasize","collapsible-menu","js-console","codetabs","es6tabs-stage-0","jazer"],"root":"txt","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"code-highlighter":{},"collapsible-menu":{},"ace":{},"youtube":{},"es6tabs":{"presets":["es2015","stage-0"]},"include":{},"toc":{"addClass":"true","className":"toc"},"search":{"maxIndexSize":1000000},"autocover":{"title":"Apuntes del Curso 2016/2017: Procesadores de Lenguajes, Desarrollo de Sistemas Informáticos y Sistemas y Tecnologías Web","author":"Casiano","pluginsConfig":{"autocover":{"font":{"size":null,"family":"Impact","color":"#FFF"},"size":{"w":1800,"h":2360},"background":{"color":"#09F"}}}},"page-toc":{"position":"before-first","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","showByDefault":true},"layout":{"headerPath":"layouts/header.html","footerPath":"layouts/footer.html"},"codetabs":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"jazer":{},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"js-console":{},"sectionx":{},"highlight":{},"copy-code-button":{},"es6tabs-stage-0":{"presets":["es2015","react"]},"video":{},"include-codeblock":{"check":false,"edit":false,"fixlang":false,"lang":"","template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"apuntes/db/mongo/mongoose.md","mtime":"2018-01-11T15:21:56.196Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-04-28T10:35:28.998Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sectionx/sectionx.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-page-toc/anchor-3.1.1.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-page-toc/page-toc.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-console/console-ui.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-codetabs/codetabs.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/questionjs/questionjs.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/question/question.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/regexp/regexp.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/xregexp/xregexp.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/ace/ace.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-jazer/ace/theme-dreamweaver.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/buttons.js"></script>
        
    

    </body>
</html>

